var corpuschristitex=corpuschristitex||{};!function(){"use strict";corpuschristitex.heroFeature={$parentElement:null,$scrollDownArrow:null,httpUrl:null,init:function(){this.$parentElement=$("#js-hero-feature .hero-feature-fade-container"),this.loadRandomHero(),this.$scrollDownArrow=$("body").on("click","#js-scroll-down-arrow",$.proxy(this.scrollToNextSection,this))},loadRandomHero:function(){var a=$("#js-hero-feature-variables");this.httpUrl=void 0!==a.data("json-url")?a.data("json-url"):"/";var b=this,c="",d=a.data("json-template-id"),e=a.data("json-category-id"),f=this.httpUrl+"GetJsonData.ashx?id="+d+"&type=RET.CMS.Content.Page&category="+e;return $.ajax({type:"GET",url:f,dataType:"jsonp",success:function(a){var d,e=Number(b.getParam("recordCount",a.ArrayOfPage.Parameters.Parameter)),f=Math.floor(Math.random()*e);d=e>1?a.ArrayOfPage.Page[f]:a.ArrayOfPage.Page,c=b.formatHero(d)},error:function(){}}).done(function(){$(c).appendTo(b.$parentElement).hide().fadeIn(750,function(){$("#js-scroll-down-arrow").removeClass("loading"),$("#js-hero-feature-placeholder-image").remove(),$(this).parent().removeClass("overlap-placeholder")}),$("#hero-feature-image").addClass("unveiled")}),!1},getParam:function(a,b){for(var c,d=0;d<b.length;d+=1)if(b[d].attrkey===a)return c=b[d].attrvalue;return c},formatHero:function(a){var b,c,d,e,f,g,h,i,j,k=this;return $.each(a.Elements.PageElement,function(c){switch(j=a.Elements.PageElement[c].DisplayName){case"Heading":b=this.TextData;break;case"Content":d=this.CDATAMarkup["#cdata-section"];break;case"Image":var f=this.Width,l=this.Height,m=this.FileID;e=k.httpUrl+"image.aspx?id="+m+"&mar=1&width="+f+"&height="+l;break;case"Link":g=this.TextData;break;case"Link Title":h=this.TextData;break;case"Placement":i=this.TextData}}),f=b+" "+c,'<div id="hero-feature-image" class="hero-feature-image unveil" style="background-image: url('+e+');"><span>'+f+'</span></div><div class="feature-content-container"><div class="row"><div class="columns small-12"><div class="feature-content clearfix '+i+'"><h1>'+b+"</h1>"+d+'<a href="'+g+'" class="call-to-action-button" title="'+h+'">'+h+"</a></div></div></div></div>"},scrollToNextSection:function(a){a.preventDefault();var b=130,c=$("#js-hero-feature").closest("section").next("section");$("html, body").animate({scrollTop:$(c).offset().top-b},500)}}}();var corpuschristitex=corpuschristitex||{};!function(){"use strict";var a,b=$(".zone-list .accordion-header."+a),c=$(".zone-marker."+a+" .info-bubble"),d=b.parent().find(".accordion-body"),e="9em";corpuschristitex.zoneMapFeature={$accordionTrigger:null,init:function(){this.$accordionTrigger=$(".zone-list .accordion-header, .zone-map .zone-marker").on("click",this.toggleAccordion)},toggleAccordion:function(){var f,g,h=$(this).data("zone");return void 0!==a&&(f=$(this).hasClass(a),g=d.hasClass("visible"),!f&&g&&(b.removeClass("open"),d.removeClass("visible"),d.slideToggle(),c.animate({width:"0em",height:"0em"},750,"easeInOutElastic",function(){$(this).removeClass("visible"),$(this).find(".image-border").toggleClass("shadow")}))),a=h,b=$(".zone-list .accordion-header."+a),c=$(".zone-marker."+a+" .info-bubble"),d=b.parent().find(".accordion-body"),b.toggleClass("open"),b.parent().find(".accordion-body").toggleClass("visible").slideToggle(),f&&g?c.animate({width:"0",height:"0"},750,"easeOutElastic",function(){$(this).removeClass("visible"),$(this).find(".image-border").toggleClass("shadow")}):c.toggleClass("visible").animate({width:e,height:e},750,"easeOutElastic",function(){$(this).find(".image-border").addClass("shadow")}),!1}}}();var corpuschristitex=corpuschristitex||{};!function(a,b,c,d){"use strict";corpuschristitex.home={init:function(){corpuschristitex.main.init(),corpuschristitex.weather.init(),corpuschristitex.heroFeature.init(),corpuschristitex.zoneMapFeature.init()}}}(window.jQuery,window.Modernizr,window,window.document),$(function(){"use strict";corpuschristitex.home.init()});